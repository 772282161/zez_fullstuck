## 计算机网络

### URI格式
[协议名]://[用户名]:[密码]@[主机名]:[端口]/[路径]?[查询参数]#[片段ID]

mysql://root:123456@localhost:3306/student_db?max_connection=50

### URL格式
[协议名]://[主机名]:[端口]/[路径]?[查询参数]#[片段ID]


### HTTP 的 工作流程(客户端和服务端是如何通信的)
  1. 服务端要监听80(http)或443(https)端口
  2. 客户端向服务端发送连接请求，如果是HTTPS，会传输证书，验证请求
  3. 双方建立TCP/IP 连接(三次握手)
  4. 客户端向服务端发送请求
  5. 服务端响应请求，返回数据包
  6. 关闭TCP/IP连接(四次挥手)
  
  
### 请求报文的请求行有三部分组成：
1. 请求方法  
    GET请求用于读取URL内的参数信息，查询
    POST 添加数据，请求参数写在请求体里面
    PUT 用于更新数据，整条更新，覆盖
    PATCH  用于更新部分数据，补丁
    DELETE 删除数据
    HEAD 请求读取头部信息，只发请求头，用于探测
    OPTIONS 描述目标资源的通信选项，可以用于跨域
2. URL
3. 协议版本
   
### 首部行常用的Header
  User-Agent:浏览器的版本
  Content-Type:请求体数据类型  text/plain  text/html  application/json
  Content-Length: 请求体的长度 ， 单位：字节
  Content-Encoding:请求体的编码格式 gzip，deflate
  Accept-Ending:告诉对方，我方接受的编码格式
  Referer:请求来源
  Cache-Control: 缓存机制 no-cache，max-age=10 单位秒
  Host: 主机名

### 响应报文状态行组成
  1. 版本
  2. 状态码
      - 1** 请求收到，继续
      - 2** 成功
        - 200 请求处理成功
        - 201 请求成功且服务器已经创建了新的资源
        - 202 服务器已经接受了请求，但还没有对请求进行处理
        - 203 服务器成功处理了请求，但返回了可能来自另一来源的信息
        - 204 服务器成功处理了请求，但没有返回任何内容
      - 3** 需要进一步处理
        - 302 重定向
        - 304 文件没有发生变化
      - 4** 请求包含错误，服务器拒绝处理
        - 400 请求错误
        - 401 为授权访问
        - 403 服务器拒绝请求
        - 404 服务器找不到请求的网页
        - 405 请求方法不被允许
        - 499 Nginx内定的错误
      - 5** 服务器出现错误，但请求有效
        - 500 服务器内部错误
        - 501 服务器不具备完成请求的功能，
        - 502 网关错误，
        - 503 服务器由于超载或进行停机维护，无法使用
        - 504 网关超时
        - 505 服务器不支持请求中的HTTP版本
  3. 状态短语

### 响应常见的Header
  Date:服务器的时间
  Content-Type:响应体的数据类型
  Set-Cookie:设置Cookie
  Server:后端服务器名

### Nginx 的负载均衡算法是什么
  1. 轮询 
     1. 每个请求平均的分配到每台服务器上，通过求余的方式
  2. 权重
     1. 每台机器的流量与权重成正比
   
### 正向代理和反向代理
  1. 正向代理就是发送的请求通过代理直接到达目标服务器(指路人)
  2. 反向代理就是请求统一被Nginx接收，然后Nginx吧请求发给后端服务器处理，得到响应后，再将响应返回给客户端(跑腿的)

  反向代理的优点：
    1. 为了隐藏服务器，不让服务器直接暴露在互联网上，保证一定的安全性
    2. 可以作为静态资源的代理服务器，直接返回静态资源，动态资源再走后端
   
### 解决前端跨域问题
  1. 前端不跨域，前后端用同一个域名，但是可以通过Nginx 配置根据path 转发到真正的接口服务器上。
  2. JSONP 在HTML DOM中,Script标签是可以跨域访问服务器上的数据的.因此,可以指定script的src属性为跨域的url,基于script标签实现跨域.
    script标签本身就可以访问其它域的资源，不受浏览器同源策略的限制，可以通过在页面动态创建script标签。

    var script = document.createElement('script');  
    script.src = "http://aa.xx.com/js/*.js";  
    document.body.appendChild(script);  

    这样通过动态创建script标签加载其它域的js文件，然后通过本页面调用加载后js文件的函数，这样做的缺陷是不能加载其它域的文档，只能是js文件，jsonp便是通过这种方式实现的，jsonp通过向其它域传入一个callback参数，通过其他域的后台将callback参数值和json串包装成javascript函数返回，因为是通过script标签发出的请求，浏览器会将返回来的字符串按照javascript进行解析执行，实现域与域的数据传输。
    jquery中对jsonp的支持也是基于此方案。
    例如:服务器返回的数据不能是单纯的如{“Name”:”hofmann”}字符串,我们是没有办法引用这个字符串的.所以,要求返回的值是var json={“Name”:”zhangsan”},或json({“Name”:”zhangsan”})
  3. iframe实现跨域
    基于iframe实现的跨域要求两个域具有aa.xx.com,bb.xx.com这种特点，也就是两个页面必须属于同一个顶级基础域（例如都是xxx.com，或是xxx.com.cn），使用同一协议（例如都是 http）和同一端口（例如都是80），这样在两个页面中同时添加document.domain，就可以实现父页面调用子页面的函数，